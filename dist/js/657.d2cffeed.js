"use strict";(self["webpackChunkresearch_task_manager"]=self["webpackChunkresearch_task_manager"]||[]).push([[657],{1657:function(e,t,a){a.r(t),a.d(t,{default:function(){return de}});var s=a(641),l=a(33);const r={class:"fade-in"},i={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},n={class:"dashboard-card"},c={class:"dashboard-stat"},d={class:"dashboard-card"},o={class:"dashboard-stat"},u={class:"text-sm text-gray-500 mt-2"},m={class:"dashboard-card"},g={class:"dashboard-stat"},p={class:"dashboard-card"},f={class:"dashboard-stat"},k={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},x={class:"dashboard-card lg:col-span-2"},y={class:"flex justify-between items-center mb-4"},v={class:"mb-4"},b={class:"flex justify-between mb-1"},L={class:"text-sm font-medium text-gray-700"},h={class:"w-full bg-gray-200 rounded-full h-2.5"},C={class:"space-y-4"},w={class:"flex-grow"},E={class:"flex justify-between mb-1"},_={class:"text-sm font-medium text-gray-700"},X={class:"text-sm font-medium text-gray-700"},D={class:"w-full bg-gray-200 rounded-full h-2"},W={class:"dashboard-card"},T={key:0,class:"text-center py-4"},j={key:1,class:"text-center py-4"},P={key:2,class:"space-y-3"},F={class:"font-medium text-gray-800"},K={class:"text-sm text-gray-600 mt-1"},R={class:"flex justify-between items-center mt-2"},I={class:"text-xs text-gray-500"},U={class:"mt-4 text-center"},A={class:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6"},M={class:"dashboard-card"},N={class:"flex justify-between items-center mb-4"},S={key:0,class:"text-center py-4"},q={key:1,class:"text-center py-4"},B={key:2,class:"space-y-3"},O={class:"flex-grow"},$={class:"font-medium text-gray-800"},H={class:"text-sm text-gray-600 mt-1"},V={class:"flex items-center mt-2 text-xs text-gray-500"},z={class:"ml-3"},G={class:"dashboard-card"},J={class:"flex justify-between items-center mb-4"},Q={key:0,class:"text-center py-4"},Y={key:1,class:"text-center py-4"},Z={key:2,class:"space-y-4"},ee={class:"text-xs text-gray-500 block mb-1"},te={class:"font-medium text-gray-800"},ae={class:"text-sm text-gray-600 mt-1"};function se(e,t,a,se,le,re){const ie=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",i,[(0,s.Lk)("div",n,[t[0]||(t[0]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700 mb-2"}," المهام الإجمالية ",-1)),(0,s.Lk)("p",c,(0,l.v_)(se.totalTasks),1),t[1]||(t[1]=(0,s.Lk)("p",{class:"text-sm text-gray-500 mt-2"},"إجمالي عدد المهام في المشروع",-1))]),(0,s.Lk)("div",d,[t[2]||(t[2]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700 mb-2"}," المهام المكتملة ",-1)),(0,s.Lk)("p",o,(0,l.v_)(se.completedTasks),1),(0,s.Lk)("p",u,(0,l.v_)(se.completionPercentage)+"% من المهام مكتملة ",1)]),(0,s.Lk)("div",m,[t[3]||(t[3]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700 mb-2"}," الأوراق العلمية ",-1)),(0,s.Lk)("p",g,(0,l.v_)(se.papersCount),1),t[4]||(t[4]=(0,s.Lk)("p",{class:"text-sm text-gray-500 mt-2"},"عدد الأوراق العلمية المراجعة",-1))]),(0,s.Lk)("div",p,[t[5]||(t[5]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700 mb-2"},"المشاركون",-1)),(0,s.Lk)("p",f,(0,l.v_)(se.participantsCount),1),t[6]||(t[6]=(0,s.Lk)("p",{class:"text-sm text-gray-500 mt-2"},"عدد المشاركين في الدراسة",-1))])]),t[26]||(t[26]=(0,s.Fv)('<div class="dashboard-card mb-8"><h3 class="text-lg font-semibold text-gray-700 mb-4"> رابط الورقة العلمية </h3><div class="flex justify-center"><a href="https://www.overleaf.com/4646177466qdcvydfgtqbh#dbd4ca" target="_blank" class="btn btn-primary flex items-center justify-center"><i class="fas fa-file-alt ml-2"></i> الورقة العلمية على Overleaf </a></div></div>',1)),(0,s.Lk)("div",k,[(0,s.Lk)("div",x,[(0,s.Lk)("div",y,[t[8]||(t[8]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700"},"تقدم المهام",-1)),(0,s.bF)(ie,{to:"/tasks",class:"text-primary-600 hover:text-primary-800 text-sm"},{default:(0,s.k6)((()=>t[7]||(t[7]=[(0,s.eW)(" عرض الكل "),(0,s.Lk)("i",{class:"fas fa-arrow-left mr-1"},null,-1)]))),_:1})]),(0,s.Lk)("div",v,[(0,s.Lk)("div",b,[t[9]||(t[9]=(0,s.Lk)("span",{class:"text-sm font-medium text-gray-700"},"التقدم الإجمالي",-1)),(0,s.Lk)("span",L,(0,l.v_)(se.completionPercentage)+"%",1)]),(0,s.Lk)("div",h,[(0,s.Lk)("div",{class:"bg-primary-600 h-2.5 rounded-full",style:(0,l.Tr)({width:se.completionPercentage+"%"})},null,4)])]),(0,s.Lk)("div",C,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.taskCategories,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"flex items-center"},[(0,s.Lk)("div",{class:(0,l.C4)(["w-8 h-8 rounded-full flex items-center justify-center mr-3",e.bgColor])},[(0,s.Lk)("i",{class:(0,l.C4)(["fas",e.icon,"text-white"])},null,2)],2),(0,s.Lk)("div",w,[(0,s.Lk)("div",E,[(0,s.Lk)("span",_,(0,l.v_)(e.name),1),(0,s.Lk)("span",X,(0,l.v_)(e.percentage)+"%",1)]),(0,s.Lk)("div",D,[(0,s.Lk)("div",{class:(0,l.C4)(["h-2 rounded-full",e.barColor]),style:(0,l.Tr)({width:e.percentage+"%"})},null,6)])])])))),128))])]),(0,s.Lk)("div",W,[t[14]||(t[14]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700 mb-4"},"المهام القادمة",-1)),se.loading?((0,s.uX)(),(0,s.CE)("div",T,t[10]||(t[10]=[(0,s.Lk)("i",{class:"fas fa-spinner fa-spin text-primary-600 text-xl"},null,-1),(0,s.Lk)("p",{class:"text-gray-600 mt-2"},"جاري تحميل البيانات...",-1)]))):0===se.upcomingTasks.length?((0,s.uX)(),(0,s.CE)("div",j,t[11]||(t[11]=[(0,s.Lk)("i",{class:"fas fa-check-circle text-green-600 text-xl"},null,-1),(0,s.Lk)("p",{class:"text-gray-600 mt-2"},"لا توجد مهام قادمة حالياً",-1)]))):((0,s.uX)(),(0,s.CE)("div",P,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.upcomingTasks,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"p-3 bg-gray-50 rounded-lg"},[(0,s.Lk)("h4",F,(0,l.v_)(e.title||e.name),1),(0,s.Lk)("p",K,(0,l.v_)(e.description),1),(0,s.Lk)("div",R,[(0,s.Lk)("span",I,[t[12]||(t[12]=(0,s.Lk)("i",{class:"far fa-calendar-alt ml-1"},null,-1)),(0,s.eW)((0,l.v_)(se.formatDate(e.dueDate)),1)]),(0,s.Lk)("span",{class:(0,l.C4)(["px-2 py-1 text-xs rounded-full",se.getPriorityClass(e.priority)])},(0,l.v_)(e.priority),3)])])))),128))])),(0,s.Lk)("div",U,[(0,s.bF)(ie,{to:"/tasks",class:"btn btn-outline text-sm"},{default:(0,s.k6)((()=>t[13]||(t[13]=[(0,s.Lk)("i",{class:"fas fa-plus ml-1"},null,-1),(0,s.eW)("إضافة مهمة جديدة ")]))),_:1})])])]),(0,s.Lk)("div",A,[(0,s.Lk)("div",M,[(0,s.Lk)("div",N,[t[16]||(t[16]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700"}," آخر الأوراق العلمية ",-1)),(0,s.bF)(ie,{to:"/literature",class:"text-primary-600 hover:text-primary-800 text-sm"},{default:(0,s.k6)((()=>t[15]||(t[15]=[(0,s.eW)(" عرض الكل "),(0,s.Lk)("i",{class:"fas fa-arrow-left mr-1"},null,-1)]))),_:1})]),se.loading?((0,s.uX)(),(0,s.CE)("div",S,t[17]||(t[17]=[(0,s.Lk)("i",{class:"fas fa-spinner fa-spin text-primary-600 text-xl"},null,-1),(0,s.Lk)("p",{class:"text-gray-600 mt-2"},"جاري تحميل البيانات...",-1)]))):0===se.recentPapers.length?((0,s.uX)(),(0,s.CE)("div",q,t[18]||(t[18]=[(0,s.Lk)("i",{class:"fas fa-book text-primary-600 text-xl"},null,-1),(0,s.Lk)("p",{class:"text-gray-600 mt-2"},"لا توجد أوراق علمية مضافة حالياً",-1)]))):((0,s.uX)(),(0,s.CE)("div",B,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.recentPapers,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"flex items-start p-3 bg-gray-50 rounded-lg"},[t[21]||(t[21]=(0,s.Lk)("div",{class:"w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center ml-3"},[(0,s.Lk)("i",{class:"fas fa-file-alt text-primary-600"})],-1)),(0,s.Lk)("div",O,[(0,s.Lk)("h4",$,(0,l.v_)(e.title),1),(0,s.Lk)("p",H,(0,l.v_)(e.summary||e.abstract),1),(0,s.Lk)("div",V,[(0,s.Lk)("span",z,[t[19]||(t[19]=(0,s.Lk)("i",{class:"far fa-calendar-alt ml-1"},null,-1)),(0,s.eW)((0,l.v_)(e.year),1)]),(0,s.Lk)("span",null,[t[20]||(t[20]=(0,s.Lk)("i",{class:"fas fa-tag ml-1"},null,-1)),(0,s.eW)((0,l.v_)(e.methodology||e.type),1)])])])])))),128))]))]),(0,s.Lk)("div",G,[(0,s.Lk)("div",J,[t[23]||(t[23]=(0,s.Lk)("h3",{class:"text-lg font-semibold text-gray-700"},"آخر التحديثات",-1)),(0,s.bF)(ie,{to:"/tasks",class:"text-primary-600 hover:text-primary-800 text-sm"},{default:(0,s.k6)((()=>t[22]||(t[22]=[(0,s.eW)(" عرض الكل "),(0,s.Lk)("i",{class:"fas fa-arrow-left mr-1"},null,-1)]))),_:1})]),se.loading?((0,s.uX)(),(0,s.CE)("div",Q,t[24]||(t[24]=[(0,s.Lk)("i",{class:"fas fa-spinner fa-spin text-primary-600 text-xl"},null,-1),(0,s.Lk)("p",{class:"text-gray-600 mt-2"},"جاري تحميل البيانات...",-1)]))):0===se.recentUpdates.length?((0,s.uX)(),(0,s.CE)("div",Y,t[25]||(t[25]=[(0,s.Lk)("i",{class:"fas fa-bell-slash text-gray-500 text-xl"},null,-1),(0,s.Lk)("p",{class:"text-gray-600 mt-2"},"لا توجد تحديثات حديثة",-1)]))):((0,s.uX)(),(0,s.CE)("div",Z,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(se.recentUpdates,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,l.C4)(["border-r-2 pr-4",se.getUpdateBorderColor(e.type)])},[(0,s.Lk)("span",ee,(0,l.v_)(se.formatDate(e.timestamp||e.date)),1),(0,s.Lk)("h4",te,(0,l.v_)(e.title),1),(0,s.Lk)("p",ae,(0,l.v_)(e.description),1)],2)))),128))]))])])])}a(8111),a(2489),a(1701),a(3579);var le=a(953),re=a(4339),ie={name:"Home",setup(){const e=(0,le.KR)([]),t=(0,le.KR)([]),a=(0,le.KR)([]),l=((0,le.KR)([]),(0,le.KR)(!0)),r=(0,s.EW)((()=>e.value.length)),i=(0,s.EW)((()=>e.value.filter((e=>"done"===e.status||"done"===e.column)).length)),n=(0,s.EW)((()=>0===r.value?0:Math.round(i.value/r.value*100))),c=(0,s.EW)((()=>t.value.length)),d=(0,s.EW)((()=>a.value.length)),o=(0,s.EW)((()=>{const t=[{name:"جمع البيانات",tags:["جمع البيانات","تسجيل","مقابلة"],icon:"fa-database",bgColor:"bg-blue-500",barColor:"bg-blue-500"},{name:"تحليل البيانات",tags:["تحليل","إحصاء","معالجة"],icon:"fa-chart-bar",bgColor:"bg-green-500",barColor:"bg-green-500"},{name:"كتابة البحث",tags:["كتابة","توثيق","مراجعة أدبية"],icon:"fa-pen",bgColor:"bg-purple-500",barColor:"bg-purple-500"},{name:"المراجعة",tags:["مراجعة","تدقيق","تصحيح"],icon:"fa-check",bgColor:"bg-yellow-500",barColor:"bg-yellow-500"}];return t.map((t=>{const a=e.value.filter((e=>e.tags&&Array.isArray(e.tags)?e.tags.some((e=>t.tags.includes(e))):t.tags.some((t=>e.title&&e.title.includes(t)||e.description&&e.description.includes(t))))),s=a.length,l=a.filter((e=>"done"===e.status||"done"===e.column)).length,r=s>0?Math.round(l/s*100):0;return{...t,percentage:r}}))})),u=(0,s.EW)((()=>e.value.filter((e=>"done"!==e.status&&"done"!==e.column&&e.dueDate)).sort(((e,t)=>new Date(e.dueDate)-new Date(t.dueDate))).slice(0,3))),m=(0,s.EW)((()=>[...t.value].sort(((e,t)=>{const a=e.timestamp||new Date(e.year).getTime(),s=t.timestamp||new Date(t.year).getTime();return s-a})).slice(0,3))),g=(0,s.EW)((()=>{const a=e.value.filter((e=>e.dateCreated||e.lastModified)).map((e=>({id:e.id,title:`تم ${"done"===e.status||"done"===e.column?"إكمال":"تحديث"} مهمة: ${e.title||e.name}`,description:e.description||"تم تحديث حالة المهمة",timestamp:e.lastModified||e.dateCreated,type:"task"}))),s=t.value.filter((e=>e.timestamp)).map((e=>({id:e.id,title:"تمت إضافة ورقة علمية جديدة",description:e.title,timestamp:e.timestamp,type:"paper"})));return[...a,...s].sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))).slice(0,3)})),p=e=>{if(!e)return"غير محدد";const t=new Date(e);if(isNaN(t.getTime()))return e;const a={year:"numeric",month:"long",day:"numeric"};return t.toLocaleDateString("ar-SA",a)},f=e=>{switch(e?.toLowerCase()){case"high":case"عالي":case"عاجل":return"bg-red-100 text-red-800";case"medium":case"متوسط":return"bg-yellow-100 text-yellow-800";case"low":case"منخفض":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},k=e=>{switch(e){case"task":return"border-blue-500";case"paper":return"border-green-500";case"child":return"border-purple-500";default:return"border-gray-500"}};return(0,s.sV)((()=>{l.value=!0;const s=()=>{void 0!==e.value&&void 0!==t.value&&void 0!==a.value&&(l.value=!1)};re.pv.getTasks((t=>{e.value=t,s()}),(e=>{console.error("خطأ في تحميل المهام:",e),l.value=!1})),re.pE.getPapers((e=>{t.value=e,s()})),re.wj.getChildren((e=>{a.value=e,s()}))})),{tasks:e,papers:t,children:a,loading:l,totalTasks:r,completedTasks:i,completionPercentage:n,papersCount:c,participantsCount:d,taskCategories:o,upcomingTasks:u,recentPapers:m,recentUpdates:g,formatDate:p,getPriorityClass:f,getUpdateBorderColor:k}}},ne=a(6262);const ce=(0,ne.A)(ie,[["render",se]]);var de=ce},3579:function(e,t,a){var s=a(6518),l=a(2652),r=a(9306),i=a(8551),n=a(1767);s({target:"Iterator",proto:!0,real:!0},{some:function(e){i(this),r(e);var t=n(this),a=0;return l(t,(function(t,s){if(e(t,a++))return s()}),{IS_RECORD:!0,INTERRUPTED:!0}).stopped}})}}]);
//# sourceMappingURL=657.d2cffeed.js.map