{"version":3,"file":"js/925.2bef87e5.js","mappings":"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","sources":["webpack://research-task-manager/./src/views/Letters.vue","webpack://research-task-manager/./src/views/Letters.vue?eee4"],"sourcesContent":["<template>\n  <div class=\"fade-in\">\n    <div class=\"flex justify-between items-center mb-6\">\n      <h1 class=\"text-2xl font-bold text-gray-800\">الخطابات والموافقات</h1>\n      <div class=\"flex space-x-2 space-x-reverse\">\n        <button\n          @click=\"showAddDoctorLetterModal = true\"\n          class=\"btn btn-primary ml-2\"\n        >\n          <i class=\"fas fa-plus ml-2\"></i>إضافة موافقة دكتور\n        </button>\n        <button\n          @click=\"showAddParentLetterModal = true\"\n          class=\"btn btn-secondary\"\n        >\n          <i class=\"fas fa-plus ml-2\"></i>إضافة موافقة ولي أمر\n        </button>\n      </div>\n    </div>\n\n    <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n      <div class=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">موافقات الدكاترة</h2>\n\n        <div\n          v-if=\"doctorLetters.length === 0\"\n          class=\"text-center py-8 text-gray-500\"\n        >\n          لا توجد موافقات دكاترة حتى الآن\n        </div>\n\n        <div v-else class=\"space-y-4\">\n          <div\n            v-for=\"letter in doctorLetters\"\n            :key=\"letter.id\"\n            class=\"bg-gray-50 rounded-lg p-4 flex justify-between items-center\"\n          >\n            <div>\n              <h3 class=\"font-medium text-gray-800\">{{ letter.name }}</h3>\n              <p class=\"text-sm text-gray-500\">\n                {{ formatDate(letter.timestamp) }}\n              </p>\n            </div>\n\n            <div class=\"flex items-center\">\n              <a\n                :href=\"letter.url\"\n                target=\"_blank\"\n                class=\"text-primary-600 hover:text-primary-800 ml-4\"\n              >\n                <i class=\"fas fa-external-link-alt ml-1\"></i>عرض\n              </a>\n              <button\n                @click=\"deleteLetter('doctor', letter)\"\n                class=\"text-red-600 hover:text-red-800\"\n              >\n                <i class=\"fas fa-trash-alt\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"bg-white rounded-lg shadow-md p-6\">\n        <h2 class=\"text-xl font-bold text-gray-800 mb-4\">\n          موافقات أولياء الأمور\n        </h2>\n\n        <div\n          v-if=\"parentLetters.length === 0\"\n          class=\"text-center py-8 text-gray-500\"\n        >\n          لا توجد موافقات أولياء أمور حتى الآن\n        </div>\n\n        <div v-else class=\"space-y-4\">\n          <div\n            v-for=\"letter in parentLetters\"\n            :key=\"letter.id\"\n            class=\"bg-gray-50 rounded-lg p-4 flex justify-between items-center\"\n          >\n            <div>\n              <h3 class=\"font-medium text-gray-800\">{{ letter.name }}</h3>\n              <p class=\"text-sm text-gray-500\">\n                {{ formatDate(letter.timestamp) }}\n              </p>\n            </div>\n\n            <div class=\"flex items-center\">\n              <a\n                :href=\"letter.url\"\n                target=\"_blank\"\n                class=\"text-primary-600 hover:text-primary-800 ml-4\"\n              >\n                <i class=\"fas fa-external-link-alt ml-1\"></i>عرض\n              </a>\n              <button\n                @click=\"deleteLetter('parent', letter)\"\n                class=\"text-red-600 hover:text-red-800\"\n              >\n                <i class=\"fas fa-trash-alt\"></i>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"bg-white rounded-lg shadow-md p-6 mt-6\">\n      <h2 class=\"text-xl font-bold text-gray-800 mb-4\">حالة الموافقات</h2>\n\n      <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <div class=\"p-4 bg-gray-50 rounded-lg\">\n          <h3 class=\"font-semibold text-gray-700 mb-2\">\n            إجمالي موافقات الدكاترة\n          </h3>\n          <p class=\"text-2xl font-bold text-primary-600\">\n            {{ doctorLetters.length }}\n          </p>\n        </div>\n\n        <div class=\"p-4 bg-gray-50 rounded-lg\">\n          <h3 class=\"font-semibold text-gray-700 mb-2\">\n            إجمالي موافقات أولياء الأمور\n          </h3>\n          <p class=\"text-2xl font-bold text-primary-600\">\n            {{ parentLetters.length }}\n          </p>\n        </div>\n\n        <div class=\"p-4 bg-gray-50 rounded-lg\">\n          <h3 class=\"font-semibold text-gray-700 mb-2\">\n            نسبة اكتمال موافقات الدكاترة\n          </h3>\n          <p class=\"text-2xl font-bold text-primary-600\">\n            {{ doctorCompletionPercentage }}%\n          </p>\n        </div>\n\n        <div class=\"p-4 bg-gray-50 rounded-lg\">\n          <h3 class=\"font-semibold text-gray-700 mb-2\">\n            نسبة اكتمال موافقات أولياء الأمور\n          </h3>\n          <p class=\"text-2xl font-bold text-primary-600\">\n            {{ parentCompletionPercentage }}%\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <!-- Add Doctor Letter Modal -->\n    <div\n      v-if=\"showAddDoctorLetterModal\"\n      class=\"modal-overlay\"\n      @click.self=\"showAddDoctorLetterModal = false\"\n    >\n      <div class=\"modal-content\">\n        <div class=\"flex justify-between items-center mb-4\">\n          <h2 class=\"text-xl font-bold text-gray-800\">إضافة موافقة دكتور</h2>\n          <button\n            @click=\"showAddDoctorLetterModal = false\"\n            class=\"text-gray-500 hover:text-gray-700\"\n          >\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n\n        <div class=\"mb-4\">\n          <label class=\"form-label\">ملف الموافقة (PDF)</label>\n          <input\n            type=\"file\"\n            accept=\"application/pdf\"\n            @change=\"handleDoctorFileUpload\"\n            class=\"form-input\"\n            required\n          />\n        </div>\n\n        <div class=\"flex justify-end\">\n          <button\n            @click=\"showAddDoctorLetterModal = false\"\n            class=\"btn btn-outline ml-2\"\n          >\n            إلغاء\n          </button>\n          <button\n            @click=\"uploadDoctorLetter\"\n            class=\"btn btn-primary\"\n            :disabled=\"isUploading\"\n          >\n            <i v-if=\"isUploading\" class=\"fas fa-spinner fa-spin ml-1\"></i>\n            رفع الملف\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Add Parent Letter Modal -->\n    <div\n      v-if=\"showAddParentLetterModal\"\n      class=\"modal-overlay\"\n      @click.self=\"showAddParentLetterModal = false\"\n    >\n      <div class=\"modal-content\">\n        <div class=\"flex justify-between items-center mb-4\">\n          <h2 class=\"text-xl font-bold text-gray-800\">إضافة موافقة ولي أمر</h2>\n          <button\n            @click=\"showAddParentLetterModal = false\"\n            class=\"text-gray-500 hover:text-gray-700\"\n          >\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n\n        <div class=\"mb-4\">\n          <label class=\"form-label\">ملف الموافقة (PDF)</label>\n          <input\n            type=\"file\"\n            accept=\"application/pdf\"\n            @change=\"handleParentFileUpload\"\n            class=\"form-input\"\n            required\n          />\n        </div>\n\n        <div class=\"flex justify-end\">\n          <button\n            @click=\"showAddParentLetterModal = false\"\n            class=\"btn btn-outline ml-2\"\n          >\n            إلغاء\n          </button>\n          <button\n            @click=\"uploadParentLetter\"\n            class=\"btn btn-primary\"\n            :disabled=\"isUploading\"\n          >\n            <i v-if=\"isUploading\" class=\"fas fa-spinner fa-spin ml-1\"></i>\n            رفع الملف\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from \"vue\";\nimport {\n  getDatabase,\n  ref as dbRef,\n  onValue,\n  push,\n  remove,\n} from \"firebase/database\";\nimport {\n  getStorage,\n  ref as storageRef,\n  uploadBytesResumable,\n  getDownloadURL,\n  deleteObject,\n} from \"firebase/storage\";\n\nexport default {\n  name: \"Letters\",\n  setup() {\n    const db = getDatabase();\n    const storage = getStorage();\n\n    // Letters data\n    const doctorLetters = ref([]);\n    const parentLetters = ref([]);\n\n    // Modals\n    const showAddDoctorLetterModal = ref(false);\n    const showAddParentLetterModal = ref(false);\n\n    // Upload state\n    const selectedDoctorFile = ref(null);\n    const selectedParentFile = ref(null);\n    const isUploading = ref(false);\n\n    // Load letters from Firebase\n    const loadLetters = () => {\n      // Load doctor letters\n      const doctorLettersRef = dbRef(db, \"doctor_letters\");\n      onValue(doctorLettersRef, (snapshot) => {\n        const data = snapshot.val();\n        if (data) {\n          doctorLetters.value = Object.entries(data).map(([id, letter]) => ({\n            id,\n            ...letter,\n          }));\n        } else {\n          doctorLetters.value = [];\n        }\n      });\n\n      // Load parent letters\n      const parentLettersRef = dbRef(db, \"parent_letters\");\n      onValue(parentLettersRef, (snapshot) => {\n        const data = snapshot.val();\n        if (data) {\n          parentLetters.value = Object.entries(data).map(([id, letter]) => ({\n            id,\n            ...letter,\n          }));\n        } else {\n          parentLetters.value = [];\n        }\n      });\n    };\n\n    // Computed properties\n    const doctorCompletionPercentage = computed(() => {\n      // Assuming we need 5 doctor approvals\n      const targetCount = 5;\n      return Math.min(\n        Math.round((doctorLetters.value.length / targetCount) * 100),\n        100\n      );\n    });\n\n    const parentCompletionPercentage = computed(() => {\n      // Assuming we need 10 parent approvals\n      const targetCount = 10;\n      return Math.min(\n        Math.round((parentLetters.value.length / targetCount) * 100),\n        100\n      );\n    });\n\n    // File upload handlers\n    const handleDoctorFileUpload = (event) => {\n      selectedDoctorFile.value = event.target.files[0];\n    };\n\n    const handleParentFileUpload = (event) => {\n      selectedParentFile.value = event.target.files[0];\n    };\n\n    // Upload doctor letter\n    const uploadDoctorLetter = () => {\n      if (!selectedDoctorFile.value) {\n        alert(\"يرجى اختيار ملف\");\n        return;\n      }\n\n      isUploading.value = true;\n      const fileName = selectedDoctorFile.value.name;\n      const storagePath = `doctor_letters/${fileName}`;\n\n      // Upload file to Firebase Storage\n      const fileRef = storageRef(storage, storagePath);\n      const uploadTask = uploadBytesResumable(\n        fileRef,\n        selectedDoctorFile.value\n      );\n\n      uploadTask.on(\n        \"state_changed\",\n        (snapshot) => {\n          // Progress monitoring if needed\n          const progress =\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log(\"Upload is \" + progress + \"% done\");\n        },\n        (error) => {\n          // Error handling\n          console.error(\"Error uploading file:\", error);\n          isUploading.value = false;\n          alert(\"حدث خطأ أثناء رفع الملف\");\n        },\n        () => {\n          // Upload completed successfully\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n            // Save letter data to Firebase Database\n            const lettersRef = dbRef(db, \"doctor_letters\");\n            push(lettersRef, {\n              name: fileName,\n              url: downloadURL,\n              storagePath: storagePath,\n              timestamp: Date.now(),\n            });\n\n            selectedDoctorFile.value = null;\n            isUploading.value = false;\n            showAddDoctorLetterModal.value = false;\n          });\n        }\n      );\n    };\n\n    // Upload parent letter\n    const uploadParentLetter = () => {\n      if (!selectedParentFile.value) {\n        alert(\"يرجى اختيار ملف\");\n        return;\n      }\n\n      isUploading.value = true;\n      const fileName = selectedParentFile.value.name;\n      const storagePath = `parent_letters/${fileName}`;\n\n      // Upload file to Firebase Storage\n      const fileRef = storageRef(storage, storagePath);\n      const uploadTask = uploadBytesResumable(\n        fileRef,\n        selectedParentFile.value\n      );\n\n      uploadTask.on(\n        \"state_changed\",\n        (snapshot) => {\n          // Progress monitoring if needed\n          const progress =\n            (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log(\"Upload is \" + progress + \"% done\");\n        },\n        (error) => {\n          // Error handling\n          console.error(\"Error uploading file:\", error);\n          isUploading.value = false;\n          alert(\"حدث خطأ أثناء رفع الملف\");\n        },\n        () => {\n          // Upload completed successfully\n          getDownloadURL(uploadTask.snapshot.ref).then((downloadURL) => {\n            // Save letter data to Firebase Database\n            const lettersRef = dbRef(db, \"parent_letters\");\n            push(lettersRef, {\n              name: fileName,\n              url: downloadURL,\n              storagePath: storagePath,\n              timestamp: Date.now(),\n            });\n\n            selectedParentFile.value = null;\n            isUploading.value = false;\n            showAddParentLetterModal.value = false;\n          });\n        }\n      );\n    };\n\n    // Delete letter\n    const deleteLetter = (type, letter) => {\n      if (!confirm(\"هل أنت متأكد من حذف هذا الملف؟\")) return;\n\n      // Delete file from storage\n      const fileRef = storageRef(storage, letter.storagePath);\n      deleteObject(fileRef).catch((error) => {\n        console.error(\"Error deleting file:\", error);\n      });\n\n      // Delete data from database\n      const letterRef = dbRef(db, `${type}_letters/${letter.id}`);\n      remove(letterRef);\n    };\n\n    // Download templates\n    const downloadDoctorTemplate = () => {\n      // In a real app, this would download a template file\n      alert(\"سيتم تنزيل نموذج موافقة الدكاترة (هذه وظيفة تجريبية)\");\n    };\n\n    const downloadParentTemplate = () => {\n      // In a real app, this would download a template file\n      alert(\"سيتم تنزيل نموذج موافقة أولياء الأمور (هذه وظيفة تجريبية)\");\n    };\n\n    // Helper functions\n    const formatDate = (timestamp) => {\n      if (!timestamp) return \"\";\n      const date = new Date(timestamp);\n      return date.toLocaleDateString(\"ar-EG\");\n    };\n\n    // Initialize\n    onMounted(() => {\n      loadLetters();\n    });\n\n    return {\n      doctorLetters,\n      parentLetters,\n      showAddDoctorLetterModal,\n      showAddParentLetterModal,\n      isUploading,\n      doctorCompletionPercentage,\n      parentCompletionPercentage,\n      handleDoctorFileUpload,\n      handleParentFileUpload,\n      uploadDoctorLetter,\n      uploadParentLetter,\n      deleteLetter,\n      downloadDoctorTemplate,\n      downloadParentTemplate,\n      formatDate,\n    };\n  },\n};\n</script>\n","import { render } from \"./Letters.vue?vue&type=template&id=484febbe\"\nimport script from \"./Letters.vue?vue&type=script&lang=js\"\nexport * from \"./Letters.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","$event","$setup","showAddDoctorLetterModal","_createTextVNode","showAddParentLetterModal","_hoisted_4","_hoisted_5","doctorLetters","length","_hoisted_6","_hoisted_7","_Fragment","_renderList","letter","id","_hoisted_8","_toDisplayString","name","_hoisted_9","formatDate","timestamp","_hoisted_10","href","url","target","_hoisted_11","deleteLetter","_hoisted_12","_hoisted_13","parentLetters","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","doctorCompletionPercentage","_hoisted_29","_hoisted_30","parentCompletionPercentage","_withModifiers","_hoisted_31","_hoisted_32","_hoisted_33","type","accept","onChange","args","handleDoctorFileUpload","required","_hoisted_34","uploadDoctorLetter","disabled","isUploading","_hoisted_36","_createCommentVNode","_hoisted_35","_hoisted_37","_hoisted_38","_hoisted_39","handleParentFileUpload","_hoisted_40","uploadParentLetter","_hoisted_42","_hoisted_41","setup","db","getDatabase","storage","getStorage","ref","selectedDoctorFile","selectedParentFile","loadLetters","doctorLettersRef","dbRef","onValue","snapshot","data","val","value","Object","entries","map","parentLettersRef","computed","targetCount","Math","min","round","event","files","alert","fileName","storagePath","fileRef","storageRef","uploadTask","uploadBytesResumable","on","progress","bytesTransferred","totalBytes","console","log","error","getDownloadURL","then","downloadURL","lettersRef","push","Date","now","confirm","deleteObject","catch","letterRef","remove","downloadDoctorTemplate","downloadParentTemplate","date","toLocaleDateString","onMounted","__exports__","render"],"sourceRoot":""}